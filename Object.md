# 目标文件



## COFF

| Section Name |                         Description                          |
| :----------: | :----------------------------------------------------------: |
|    .text     |                   存放源码编译后的机器指令                   |
|    .data     |                  存放全局变量和局部静态变量                  |
|     .bss     | 存放未初始化的全局变量和局部静态变量，只是预留位置而已，并没有内容 |
|   .symtab    |                            符号表                            |
|  .shstrtab   |                            段名表                            |
|   .strtab    |                           字符串表                           |
|    .debug    |                           调试信息                           |
|              |                                                              |
|              |                                                              |



程序源文件被编译后主要分成两种段：

- 指令 - 代码段
- 数据 - 数据段和 .bss 段

数据和指令分开的好处：

- 读写权限 - 当程序被装载后，数据和指令分别被映射到两个虚拟区域，由于数据区域对于进程来说是可读写的，而指令区域对于进程来说是只读的，所以这两个虚存区域的权限可以被分别设置成可读写和只读。这样可以防止程序的指令被有意或无意地改写。
- 命中缓存 - 有利于提高程序的局部性，有利于提高 CPU 的缓存命中率。
- 共享指令 - 当系统中运行着多个该程序的副本时，它们的指令都是一样的，所以内存中只须要保存一份该程序的指令部分。当然每个副本进程的数据区域是不一样的，它们是进程私有的。



## Mach-O

